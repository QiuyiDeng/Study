<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    const url = 'https://www.imooc.com/api/http/search/suggest?words=js';
    /**
     * body只能读一次
     * ok 如果为true，可以读取数据，不用判断状态码
     * 
    */
    fetch(url,{
      method:'post',
      body:'age=18',
      headers:{
        'Content-Type':'application/x-www-form-urlencoded'
        // 'Content-Type':'application/json'
      }
    }).then(response=>{
      if(response.ok)return response.json();
      else throw new Error('状态码错误')
    }).then(res=>{
      console.log(res);
    }).catch(err=>{
      console.log(err);
    });
    // axios({
    //   url,
    //   method: 'post',
    //   // responseType:'json',
    //   headers:{
    //     'Content-Type':'application/x-www-form-urlencoded'
    //     // 'Content-Type':'application/json'
    //   },
    //   params:{
    //     username:'BOb'
    //   },
    //   // 通过请求体携带的数据
    //   data:{
    //     age:18,
    //     sex:'male'
    //   }
    // }).then(response=>{
    //   console.log(response.data);
    // }).catch(err=>{
    //   console.log(err);
    // })
  </script>
</body>
</html>